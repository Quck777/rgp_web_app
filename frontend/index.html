<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>RPG –°—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—å–µ</title>
    <script src="/static/script.js" defer></script>
    <style>
        body { font-family: Arial; background: #f4f4f4; padding: 20px; }
        .map { display: grid; grid-template-columns: repeat(5, 100px); gap: 5px; }
        .cell { border: 1px solid #aaa; background: #fff; padding: 10px; text-align: center; }
        .current { background: #cfc; }
    </style>
</head>
<head>
  <!-- –î–û–ë–ê–í–¨ –≠–¢–û -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>
    const tg = window.Telegram.WebApp;
    tg.expand(); // –¥–µ–ª–∞–µ—Ç –æ–∫–Ω–æ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
    tg.ready();
  </script>
</head>

<body>
    <h1>RPG –°—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—å–µ</h1>
    <h2>
    –ò–≥—Ä–æ–∫: {{ player.name }}, HP: {{ player.hp }}, –£—Ä–æ–≤–µ–Ω—å: {{ player.level }}, –û–ø—ã—Ç: {{ player.exp }}
</h2>

<div class="map">
    {% for i in range(5) %}
        {% for j in range(5) %}
            {% set is_current = (i == player.x and j == player.y) %}
            {% set has_monster = (i, j) in monsters %}
            <div class="cell {{ 'current' if is_current else '' }}">
                {{ map[i][j] }}
                {% if has_monster %}üëπ{% endif %}
            </div>
        {% endfor %}
    {% endfor %}
</div>

    <div class="map">
        {% for i in range(5) %}
            {% for j in range(5) %}
                {% set is_current = (i == player.x and j == player.y) %}
                <div class="cell {{ 'current' if is_current else '' }}">{{ map[i][j] }}</div>
            {% endfor %}
        {% endfor %}
    </div>

    <div style="margin-top: 20px;">
        <button onclick="move('up')">‚Üë –í–≤–µ—Ä—Ö</button>
        <button onclick="move('down')">‚Üì –í–Ω–∏–∑</button>
        <button onclick="move('left')">‚Üê –í–ª–µ–≤–æ</button>
        <button onclick="move('right')">‚Üí –í–ø—Ä–∞–≤–æ</button>
    </div>

    <h3>–ñ—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π</h3>
    <ul id="log">
        {% for entry in log %}
            <li>{{ entry }}</li>
        {% endfor %}
    </ul>
</body>
</html>
